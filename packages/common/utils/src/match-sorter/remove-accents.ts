// Modified from https://github.com/chakra-ui/zag
// MIT License
// Changes from Qualcomm Technologies, Inc. are provided under the following license:
// Copyright (c) Qualcomm Technologies, Inc. and/or its subsidiaries.
// SPDX-License-Identifier: BSD-3-Clause-Clear

const characterMap: Record<string, string> = {
  Á: "A",
  á: "a",
  À: "A",
  à: "a",
  Ă: "A",
  ă: "a",
  Ắ: "A",
  ắ: "a",
  Ằ: "A",
  ằ: "a",
  Ẵ: "A",
  ẵ: "a",
  Ẳ: "A",
  ẳ: "a",
  Â: "A",
  â: "a",
  Ấ: "A",
  ấ: "a",
  Ầ: "A",
  ầ: "a",
  Ǎ: "A",
  ǎ: "a",
  Å: "A",
  å: "a",
  Ǻ: "A",
  ǻ: "a",
  Ä: "A",
  ä: "a",
  A̋: "A",
  a̋: "a",
  Ã: "A",
  ã: "a",
  A̧: "A",
  a̧: "a",
  Ą: "A",
  ą: "a",
  Ā: "A",
  ā: "a",
  Ȁ: "A",
  ȁ: "a",
  Ȃ: "A",
  ȃ: "a",
  Ặ: "A",
  ặ: "a",
  Æ: "AE",
  æ: "ae",
  Ǽ: "AE",
  ǽ: "ae",
  B̌: "B",
  b̌: "b",
  B̧: "B",
  b̧: "b",
  Ć: "C",
  ć: "c",
  C̆: "C",
  c̆: "c",
  Ĉ: "C",
  ĉ: "c",
  Č: "C",
  č: "c",
  Ċ: "C",
  ċ: "c",
  Ç: "C",
  ç: "c",
  Ḉ: "C",
  ḉ: "c",
  Č̣: "C",
  č̣: "c",
  Ď: "D",
  ď: "d",
  Ḑ: "D",
  ḑ: "d",
  Đ: "D",
  đ: "d",
  Ð: "D",
  ð: "d",
  É: "E",
  é: "e",
  È: "E",
  è: "e",
  Ĕ: "E",
  ĕ: "e",
  Ê: "E",
  ê: "e",
  Ế: "E",
  ế: "e",
  Ề: "E",
  ề: "e",
  Ê̌: "E",
  ê̌: "e",
  Ě: "E",
  ě: "e",
  Ë: "E",
  ë: "e",
  E̋: "E",
  e̋: "e",
  Ė: "E",
  ė: "e",
  Ȩ: "E",
  ȩ: "e",
  Ḝ: "E",
  ḝ: "e",
  Ę: "E",
  ę: "e",
  Ē: "E",
  ē: "e",
  Ḗ: "E",
  ḗ: "e",
  Ḕ: "E",
  ḕ: "e",
  Ȅ: "E",
  ȅ: "e",
  Ȇ: "E",
  ȇ: "e",
  Ɛ̧: "E",
  ɛ̧: "e",
  F̌: "F",
  f̌: "f",
  ƒ: "f",
  Ǵ: "G",
  ǵ: "g",
  Ğ: "G",
  ğ: "g",
  Ĝ: "G",
  ĝ: "g",
  Ǧ: "G",
  ǧ: "g",
  Ġ: "G",
  ġ: "g",
  Ģ: "G",
  ģ: "g",
  Ĥ: "H",
  ĥ: "h",
  Ȟ: "H",
  ȟ: "h",
  Ḩ: "H",
  ḩ: "h",
  Ħ: "H",
  ħ: "h",
  Ḫ: "H",
  ḫ: "h",
  Í: "I",
  í: "i",
  Ì: "I",
  ì: "i",
  Ĭ: "I",
  ĭ: "i",
  Î: "I",
  î: "i",
  Ǐ: "I",
  ǐ: "i",
  Ï: "I",
  ï: "i",
  Ḯ: "I",
  ḯ: "i",
  I̋: "I",
  i̋: "i",
  Ĩ: "I",
  ĩ: "i",
  İ: "I",
  I̧: "I",
  i̧: "i",
  Į: "I",
  į: "i",
  Ī: "I",
  ī: "i",
  Ȉ: "I",
  ȉ: "i",
  Ȋ: "I",
  ȋ: "i",
  Ĳ: "IJ",
  ĳ: "ij",
  ı: "i",
  Ɨ̧: "I",
  ɨ̧: "i",
  Ĵ: "J",
  ĵ: "j",
  J̌: "J",
  ǰ: "j",
  Ḱ: "K",
  ḱ: "k",
  K̆: "K",
  k̆: "k",
  Ǩ: "K",
  ǩ: "k",
  Ķ: "K",
  ķ: "k",
  Ĺ: "L",
  ĺ: "l",
  Ľ: "L",
  ľ: "l",
  Ļ: "L",
  ļ: "l",
  Ł: "l",
  ł: "l",
  Ŀ: "L",
  ŀ: "l",
  Ḿ: "M",
  ḿ: "m",
  M̆: "M",
  m̆: "m",
  M̌: "M",
  m̌: "m",
  M̧: "M",
  m̧: "m",
  Ń: "N",
  ń: "n",
  Ǹ: "N",
  ǹ: "n",
  N̆: "N",
  n̆: "n",
  Ň: "N",
  ň: "n",
  Ñ: "N",
  ñ: "n",
  Ņ: "N",
  ņ: "n",
  Ó: "O",
  ó: "o",
  Ò: "O",
  ò: "o",
  Ŏ: "O",
  ŏ: "o",
  Ô: "O",
  ô: "o",
  Ố: "O",
  ố: "o",
  Ồ: "O",
  ồ: "o",
  Ǒ: "O",
  ǒ: "o",
  Ö: "O",
  ö: "o",
  Ő: "O",
  ő: "o",
  Õ: "O",
  õ: "o",
  Ṍ: "O",
  ṍ: "o",
  Ø: "O",
  ø: "o",
  Ǿ: "O",
  ǿ: "o",
  O̧: "O",
  o̧: "o",
  Ō: "O",
  ō: "o",
  Ṓ: "O",
  ṓ: "o",
  Ṑ: "O",
  ṑ: "o",
  Ȍ: "O",
  ȍ: "o",
  Ȏ: "O",
  ȏ: "o",
  Ơ: "O",
  ơ: "o",
  Œ: "OE",
  œ: "oe",
  Ṕ: "P",
  ṕ: "p",
  P̆: "P",
  p̆: "p",
  P̌: "P",
  p̌: "p",
  Q̌: "Q",
  q̌: "q",
  Q̧: "Q",
  q̧: "q",
  Ŕ: "R",
  ŕ: "r",
  R̆: "R",
  r̆: "r",
  Ř: "R",
  ř: "r",
  Ŗ: "R",
  ŗ: "r",
  Ř̩: "R",
  ř̩: "r",
  Ȑ: "R",
  ȑ: "r",
  Ȓ: "R",
  ȓ: "r",
  Ś: "S",
  ś: "s",
  Ṥ: "S",
  ṥ: "s",
  Ŝ: "S",
  ŝ: "s",
  Š: "S",
  š: "s",
  Ṧ: "S",
  ṧ: "s",
  Ş: "S",
  ş: "s",
  Ș: "S",
  ș: "s",
  ſ: "s",
  ß: "ss",
  T̆: "T",
  t̆: "t",
  Ť: "T",
  ť: "t",
  Ţ: "T",
  ţ: "t",
  Ț: "T",
  ț: "t",
  Ŧ: "T",
  ŧ: "t",
  Ú: "U",
  ú: "u",
  Ù: "U",
  ù: "u",
  Ŭ: "U",
  ŭ: "u",
  Û: "U",
  û: "u",
  Ǔ: "U",
  ǔ: "u",
  Ů: "U",
  ů: "u",
  Ü: "U",
  ü: "u",
  Ǘ: "U",
  ǘ: "u",
  Ǜ: "U",
  ǜ: "u",
  Ǚ: "U",
  ǚ: "u",
  Ǖ: "U",
  ǖ: "u",
  Ű: "U",
  ű: "u",
  Ũ: "U",
  ũ: "u",
  Ṹ: "U",
  ṹ: "u",
  U̧: "U",
  u̧: "u",
  Ų: "U",
  ų: "u",
  Ū: "U",
  ū: "u",
  Ȕ: "U",
  ȕ: "u",
  Ȗ: "U",
  ȗ: "u",
  Ư: "U",
  ư: "u",
  Ứ: "U",
  ứ: "u",
  Ừ: "U",
  ừ: "u",
  V̆: "V",
  v̆: "v",
  V̌: "V",
  v̌: "v",
  Ẃ: "W",
  ẃ: "w",
  Ẁ: "W",
  ẁ: "w",
  Ŵ: "W",
  ŵ: "w",
  W̌: "W",
  w̌: "w",
  X́: "X",
  x́: "x",
  X̆: "X",
  x̆: "x",
  X̌: "X",
  x̌: "x",
  X̧: "X",
  x̧: "x",
  Ý: "Y",
  ý: "y",
  Ỳ: "Y",
  ỳ: "y",
  Y̆: "Y",
  y̆: "y",
  Ŷ: "Y",
  ŷ: "y",
  Y̌: "Y",
  y̌: "y",
  ÿ: "y",
  Ÿ: "Y",
  Ź: "Z",
  ź: "z",
  Ž: "Z",
  ž: "z",
  Ż: "Z",
  ż: "z",
  Z̧: "Z",
  z̧: "z",
  Þ: "TH",
  þ: "th",
  ŉ: "n",
  Ѓ: "Г",
  ѓ: "г",
  Ё: "Е",
  ё: "е",
  Й: "И",
  й: "и",
  Ќ: "К",
  ќ: "к",
}

const chars = Object.keys(characterMap).join("|")
const allAccents = new RegExp(chars, "g")
const firstAccent = new RegExp(chars, "")

function matcher(match: string) {
  return characterMap[match]
}

export function removeAccents(str: string): string {
  return str.replace(allAccents, matcher)
}

export function hasAccents(str: string): boolean {
  return !!str.match(firstAccent)
}
