---
title: Combobox
group: Form Controls
---

import {Demo} from "~components/demo"
import * as demos from "./demos"
import {TypeDocProps, TypeDocAttributes} from "@qualcomm-ui/react-mdx/typedoc"

# {frontmatter.title}

```tsx
import {Combobox} from "@qualcomm-ui/react/combobox"
```

## Overview

- Each combobox uses the `comboboxCollection` helper to manage the list of options. This creates a `ListCollection` instance, [documented below](#list-collection).

## Examples

### Simple

The simple API provides a standalone component with bundled subcomponents.

<Demo name="ComboboxSimpleDemo" component={demos.ComboboxSimpleDemo} />

### Composite

Build with the composite API for granular control. This API requires you to provide each subcomponent, but gives you full control over the structure and layout.

<Demo name="ComboboxCompositeDemo" component={demos.ComboboxCompositeDemo} />

### Open on Click

Use the [openOnClick](./#openOnClick) prop to open the combobox when the user clicks on the input.

<Demo
  name="ComboboxOpenOnClickDemo"
  component={demos.ComboboxOpenOnClickDemo}
/>

### Input Behavior

Adjust the auto-completion behavior of the combobox with the [inputBehavior](./#inputBehavior) prop.

<Demo
  name="ComboboxInputBehaviorDemo"
  component={demos.ComboboxInputBehaviorDemo}
/>

### Multiple Selection

Use the [multiple](./#multiple) prop to enable multiple selection. When this is set, the combobox will always clear the input value when the user selects an option.

<Demo name="ComboboxMultipleDemo" component={demos.ComboboxMultipleDemo} />

### Highlight Matching Text

Use the [highlightMatchingText](./#highlightMatchingText) prop to highlight the portion of each option that matches the user's input. This provides visual feedback during filtering.

<Demo name="ComboboxHighlightDemo" component={demos.ComboboxHighlightDemo} />

### ARIA Label

The Combobox's label is automatically associated with the input element for accessibility. If you omit the label, you should provide an aria-label to the input to give your combobox an accessible name.

<Demo name="ComboboxAriaLabelDemo" component={demos.ComboboxAriaLabelDemo} />

### Content Width

The [positioning.sameWidth](./#sameWidth) property controls whether the width of the combobox content matches the width of the input element. The default is `true`.

<Demo name="ComboboxSameWidthDemo" component={demos.ComboboxSameWidthDemo} />

### Input Icon

Use the [icon](./#icon) prop to add an icon to the start of the input element.

<Demo name="ComboboxIconDemo" component={demos.ComboboxIconDemo} />

### Icon Customization

Supply a ReactNode to the [icon](./#icon) prop to customize the icon. This example features a loading indicator:

<Demo
  name="ComboboxIconCustomizationDemo"
  component={demos.ComboboxIconCustomizationDemo}
/>

### Items as Objects

The `items` prop can be an array of objects. Use the [itemLabel](./#itemLabel) and [itemValue](./#itemValue) properties on the [comboboxCollection](./#ListCollection) to specify the label and value of each item.

<Demo name="ComboboxItemsDemo" component={demos.ComboboxItemsDemo} />

### Custom Item Rendering

When using the simple API, use the [renderItem](./#renderItem) prop to customize the rendering of each item.

<Demo name="ComboboxRenderItemDemo" component={demos.ComboboxRenderItemDemo} />

> [!warning]
> When rendering custom items with [virtual](./#virtual) set to `true`, you must forward the `data-virtual` and `style` props to the rendered item:

```tsx
<Combobox
  renderItem={({item, ...itemProps}) => {
    return (
      <Combobox.Item item={item} {...itemProps}>
        {/* ... */}
      </Combobox.Item>
    )
  }}
/>
```

### Sizes

This component supports three [size](./#size) options to accommodate different layout densities and design requirements.

The available sizes are `sm`, `md`, and `lg`. The default size is `md`.

<Demo name="ComboboxSizesDemo" component={demos.ComboboxSizesDemo} />

### Content Height

Change the height of the item container by adjusting the style of the Content element.

<Demo name="ComboboxMaxHeightDemo" component={demos.ComboboxMaxHeightDemo} />

### Controlled State

Set the initial value using the [defaultValue](./#defaultValue) prop, or use [value](./#value) and [onValueChange](./#onValueChange) to control the value manually. These props follow our [controlled state](/patterns/controlled-state) pattern.

<Demo
  name="ComboboxControlledStateDemo"
  component={demos.ComboboxControlledStateDemo}
/>

### States

The following shows how the Combobox component appears in each interactive state.

<Demo name="ComboboxStatesDemo" component={demos.ComboboxStatesDemo} />

### Error Text and Indicator

Error messages are displayed using two props:

- [invalid](./#invalid)
- [errorText](./#errorText) (or the `Combobox.ErrorText` component when using the composite API)

The error text and indicator will only render when [invalid](./#invalid) is true.

<Demo name="ComboboxErrorDemo" component={demos.ComboboxErrorDemo} />

### Hint Text

Use the [hintText](./#hintText) prop to provide additional context or instructions below the combobox.

<Demo name="ComboboxHintDemo" component={demos.ComboboxHintDemo} />

### Within Dialog

To use the Combobox within a Dialog, you need to avoid portalling the `Combobox.Positioner` to the document's body. To do this using the simple API, set `portalProps.disabled` to `true`:

<Demo
  name="ComboboxWithinDialogDemo"
  component={demos.ComboboxWithinDialogDemo}
/>

### Within Popover

Like with the Dialog, you need to avoid portalling the `Combobox.Positioner` to the document's body:

<Demo
  name="ComboboxWithinPopoverDemo"
  component={demos.ComboboxWithinPopoverDemo}
/>

### Async Loading

This example shows how to load items asynchronously and display a loading indicator.

<Demo name="ComboboxAsyncDemo" component={demos.ComboboxAsyncDemo} />

### Virtualized

For large lists, use the [virtual](./#virtual) prop to improve performance. This virtualizes the visible list items for performant scrolling and searching. The following example features a list of 5000 mock usernames.

<Demo name="ComboboxVirtualDemo" component={demos.ComboboxVirtualDemo} />

## Forms

Choose the form library that fits your needsâ€”we've built examples with React Hook Form and Tanstack Form to get you started.

### React Hook Form

Use [React Hook Form](https://react-hook-form.com/) to handle the input state and validation. [ArkType](https://arktype.io/) works great for schema validation if you need it.

<Demo
  expanded
  name="ComboboxHookFormDemo"
  component={demos.ComboboxHookFormDemo}
/>

### Tanstack Form

[Tanstack Form](https://tanstack.com/form/latest/docs/framework/react/guides/basic-concepts) handles validation with its built-in validators.

<Demo
  expanded
  name="ComboboxTanstackFormDemo"
  component={demos.ComboboxTanstackFormDemo}
/>

Tanstack form also supports [ArkType](https://tanstack.com/form/latest/docs/framework/react/guides/validation#validation-through-schema-libraries).

## API

### \<Combobox\>

The simple combobox extends the [Combobox.Root](./#combobox-root) component with the following props:

<TypeDocProps name="ComboboxProps" omitFrom="ComboboxRootProps" />

## Composite API

This section describes the elements of the Combobox's composite API.

### \<Combobox.Root\>

<TypeDocProps name="ComboboxRootProps" />

### \<Combobox.Label\>

<TypeDocProps name="ComboboxLabelProps" />

<TypeDocAttributes name={["QdsSelectLabelBindings", "ComboboxLabelBindings"]} />

### \<Combobox.Control\>

<TypeDocProps name="ComboboxControlProps" />

<TypeDocAttributes
  name={["QdsSelectControlBindings", "ComboboxControlBindings"]}
/>

### \<Combobox.Input\>

<TypeDocProps name="ComboboxInputProps" />

<TypeDocAttributes name={["QdsInputInputBindings", "ComboboxInputBindings"]} />

### \<Combobox.Trigger\>

<TypeDocProps name="ComboboxTriggerProps" />

<TypeDocAttributes
  name={["QdsSelectIndicatorBindings", "ComboboxTriggerBindings"]}
/>

### \<Combobox.ClearTrigger\>

<TypeDocProps name="ComboboxClearTriggerProps" />

<TypeDocAttributes
  name={["QdsSelectClearTriggerBindings", "ComboboxClearTriggerBindings"]}
/>

### \<Combobox.Positioner\>

<TypeDocProps name="ComboboxPositionerProps" />

<TypeDocAttributes
  name={["QdsSelectPositionerBindings", "ComboboxPositionerBindings"]}
/>

### \<Combobox.Content\>

<TypeDocProps name="ComboboxContentProps" />

<TypeDocAttributes
  name={["QdsSelectContentBindings", "ComboboxContentBindings"]}
/>

### \<Combobox.Item\>

<TypeDocProps name="ComboboxItemProps" />

<TypeDocAttributes name={["QdsSelectItemBindings", "ComboboxItemBindings"]} />

### \<Combobox.ItemIndicator\>

<TypeDocProps name="ComboboxItemIndicatorProps" />

<TypeDocAttributes name="ComboboxItemIndicatorBindings" />

### \<Combobox.ItemText\>

<TypeDocProps name="ComboboxItemTextProps" />

<TypeDocAttributes
  name={["ComboboxItemTextBindings", "QdsSelectItemTextBindings"]}
/>

### \<Combobox.Hint\>

<TypeDocProps name="ComboboxHintProps" />

<TypeDocAttributes name={["QdsInputHintBindings", "SelectHintBindings"]} />

### \<Combobox.ErrorText\>

<TypeDocProps name="ComboboxErrorTextProps" />

<TypeDocAttributes
  name={["QdsInputErrorTextBindings", "SelectErrorTextBindings"]}
/>

### \<Combobox.ErrorIndicator\>

<TypeDocProps name="ComboboxErrorIndicatorProps" />

<TypeDocAttributes name="ComboboxErrorIndicatorBindings" />

## Data Structures

### ListCollection

The following describes the member variables and methods of the `ListCollection` class. The Combobox component uses an instance of this class as input:

```tsx
const collection = comboboxCollection({
  items: [
    // ...
  ],
})

return <Combobox collection={collection} />
```

Note that the ListCollection accepts a single generic type parameter, `T`, which is the type of each list item used in the collection. This can be a string or an object.

#### Constructor

<TypeDocProps name="ListCollectionOptions" partial />

<TypeDocProps name="ListCollection" partial />

### ComboboxPositioningOptions

<TypeDocProps name="ComboboxPositioningOptions" partial />
