---
title: React Router
---

import {NpmInstallTabs} from "@qualcomm-ui/react-mdx/npm-install-tabs"

# {frontmatter.title}

This library requires React 19+

There are four steps to installation:

1. Install the npm packages
2. Import the CSS
3. Configure fonts
4. Configure theme provider

This guide assumes you've already installed React and React Router in framework mode (v7 and up). If not, run this command and follow the prompts to create your project:

```shell
npm create react-router@latest
```

## 1. Install the npm packages

<NpmInstallTabs
  packages={[
    "@qualcomm-ui/react",
    "@qualcomm-ui/react-core",
    "@qualcomm-ui/core",
    "@qualcomm-ui/qds-core",
    "@qualcomm-ui/dom",
    "@qualcomm-ui/utils",
    "@qualcomm-ui/react-router-utils",
    "@tanstack/react-virtual",
    "lucide-react",
  ]}
/>

## 2. Import the CSS

In your global CSS file (default `app/app.css`), import the QUI styles.

```css tabs="css-import" label="Default"
@import "@qualcomm-ui/qds-core/styles/components.css";
@import "@qualcomm-ui/qds-core/themes/qualcomm-dark.css";
@import "@qualcomm-ui/qds-core/themes/qualcomm-light.css";
```

```css tabs="css-import" label="Tailwind"
@import "tailwindcss";

/* Recommended: install and import @qualcomm-ui/tailwind-plugin */
@import "@qualcomm-ui/tailwind-plugin/qui-strict.css";

/* Important: always order these imports after the tailwindcss import */
@import "@qualcomm-ui/qds-core/styles/components.css" layer(components);
@import "@qualcomm-ui/qds-core/themes/qualcomm-light.css" layer(components);
@import "@qualcomm-ui/qds-core/themes/qualcomm-dark.css" layer(components);
```

> [!note/Multi Theme]
> If you only intend to support a single theme, you may omit the other import.

Learn more about the available brands in the [theme documentation](/theming/overview).

## 3. Configure fonts

QUI components are designed with the Roboto Flex and Roboto Mono font families.

Add the links to your application's `<head>` element:

```tsx
// root.tsx
<html lang="en">
  <head>
    {/* ... */}
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wdth,wght@8..144,25..151,400..600&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400..500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>{/* ... */}</body>
</html>
```

## 4. Configure theme provider

QUI components support both light and dark modes. Choose one of the following approaches for your site:

- [Single theme (static)](./#single-theme-static): lock to one theme
- [Theme switching (dynamic)](./#theme-switching-dynamic): support both light and dark modes and persist the user's choice to browser storage

### Single theme (static)

If you only intend to support one theme, apply the theme attribute to your app's root element:

```tsx
// [!code word:data-theme="dark"]
<html data-theme="dark" data-brand="qualcomm" style={{colorScheme: "dark"}}>
  {/* ... */}
</html>
```

Continue to [next steps](./#next-steps)

### Theme switching (dynamic)

Follow this step to configure a cookie for theme switching. The user's preferred theme will be restored when they return to the site.

#### Create the cookie

```ts
// app/sessions.server.ts
import {createCookie} from "react-router"

export const qdsThemeCookie = createCookie("app-qds-theme", {
  // one year
  maxAge: 31536000,
})
```

#### Update the root component

First we'll read the cookie. Create a [loader function](https://reactrouter.com/start/framework/data-loading#server-data-loading):

```tsx
import {type LoaderFunctionArgs, useLoaderData} from "react-router"
import {
  isTheme,
  PreventFlashOnWrongTheme,
  Theme,
  ThemeProvider,
  useTheme,
} from "@qualcomm-ui/react-router-utils/client"
import {type QdsThemeContextValue} from "@qualcomm-ui/react/qds-theme"

import {qdsThemeCookie} from "./sessions.server"

interface RootLoaderData {
  qdsTheme: Theme
}

export async function loader({
  request,
}: LoaderFunctionArgs): Promise<RootLoaderData> {
  const cookie = request.headers.get("cookie")

  const qdsTheme = await qdsThemeCookie.parse(cookie)

  return {
    // add fallback if data from cookie is malformed
    qdsTheme: isTheme(qdsTheme) ? qdsTheme : Theme.DARK,
  }
}

// ...
```

Then we'll read the data and set up the theme provider:

```tsx
export default function App({children}) {
  const {qdsTheme} = useLoaderData<RootLoaderData>()

  return (
    <html
      data-brand="qualcomm" // or snapdragon, or dragonwing
      data-theme={qdsTheme}
      lang="en"
      style={{colorScheme: qdsTheme || "dark"}}
    >
      <head>
        {/* If the cookie is empty, this component injects an inline script
       to apply the user's system theme before hydration */}
        <PreventFlashOnWrongTheme ssrTheme={Boolean(qdsTheme)} />
      </head>
      <body>
        <ThemeProvider theme={qdsTheme} themeAction="/action/set-theme">
          {children}
        </ThemeProvider>
      </body>
    </html>
  )
}
```

Next, we'll set up the server action that stores theme changes:

```ts
// app/routes/action.set-theme.ts
import type {ActionFunction} from "react-router"

import {createThemeAction} from "@qualcomm-ui/react-router-utils/client"

import {qdsThemeCookie} from "../sessions.server"

export const action: ActionFunction = createThemeAction(qdsThemeCookie)
```

(Optional) create a component that toggles between themes:

```tsx
import {
  type MouseEvent,
  type ReactNode,
  useCallback,
  useEffect,
  useRef,
} from "react"

import {MoonIcon, SunIcon} from "lucide-react"

import {IconButton} from "@qualcomm-ui/react/button"
import {Theme, useTheme} from "@qualcomm-ui/react-router-utils/client"

export function ThemeToggle(): ReactNode {
  const [theme, setTheme] = useTheme()

  const handleThemeSwitch = () => {
    const nextTheme = theme === Theme.DARK ? Theme.LIGHT : Theme.DARK
    setTheme(nextTheme)
  }

  return (
    <IconButton
      aria-label="Toggle Theme"
      icon={theme === Theme.LIGHT ? SunIcon : MoonIcon}
      onClick={handleThemeSwitch}
      size="sm"
      variant="ghost"
    />
  )
}
```

Your application is now ready to import and use our components.

## Next Steps

- Learn more about theming in our [theming documentation](/theming/overview).
- Use the navigation menu on the left to view component documentation and examples.
